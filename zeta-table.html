<html>

<link href="https://cdn.datatables.net/v/dt/dt-1.13.7/datatables.min.css" rel="stylesheet">
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.8.9/jquery.csv.min.js"></script>
 
<script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.19/js/jquery.dataTables.min.js"></script>
        
<table class="display compact"></table>

    <script>        
(function() {
  "use strict";
  var csvColumns = [
      {title: "Bill Name", data: "bill_name"}, 
      {title: "congress.gov_link", data: "congress.gov_link"}, 
      {title: "status", data: "status"},
      {title: "bill_number", data: "bill_number"}, 
      {title: "chamber", data: "chamber"},
      {title: "House Sponsors", data: "house_sponsors"},
      {title: "Senate Sponsor", data: "senate_sponsor"},
      {title: "Summary", data: "bill_summary"},
      {title: "Policy Pillar", data: "policy_pillar"}
  ];

  var dataTable = $("table").DataTable({columns: csvColumns});

  $(document).ready(function() {
    $.ajax({
      type: "GET",
      url: "https://raw.githubusercontent.com/dgplus/zeta/main/zeta-legislation-tracker.csv",
      dataType: "text",
      success: function(data) {
        dataTable.rows.add($.csv.toObjects(data)).draw();
      }
    });
  });
})();
    </script>
</html>
